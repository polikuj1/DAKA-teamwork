<template>
  <PageTitle>
    {{ title }}
  </PageTitle>
  <section class="slot_machine">
    <div class="machine">
      <div class="monitor">
        <div class="fruits">
          <div class="pic one">
            <img src="@/assets/images/game/fruit01.svg">
            <img src="@/assets/images/game/fruit02.svg">
            <img src="@/assets/images/game/fruit03.svg">
            <img src="@/assets/images/game/fruit01.svg">
            <img src="@/assets/images/game/fruit02.svg">
            <img src="@/assets/images/game/fruit03.svg">
            <img src="@/assets/images/game/fruit01.svg">
            <img src="@/assets/images/game/fruit02.svg">
            <img src="@/assets/images/game/fruit03.svg">
            <img src="@/assets/images/game/fruit01.svg">
            <img src="@/assets/images/game/fruit02.svg">
            <img src="@/assets/images/game/fruit03.svg">
            <img src="@/assets/images/game/fruit01.svg">
            <img src="@/assets/images/game/fruit02.svg">
            <img src="@/assets/images/game/fruit03.svg">
            <img src="@/assets/images/game/fruit01.svg">
            <img src="@/assets/images/game/fruit02.svg">
            <img src="@/assets/images/game/fruit03.svg">
            <img src="@/assets/images/game/fruit01.svg">
            <img src="@/assets/images/game/fruit02.svg">
            <img src="@/assets/images/game/fruit03.svg">
            <img src="@/assets/images/game/fruit01.svg">
            <img src="@/assets/images/game/fruit02.svg">
            <img src="@/assets/images/game/fruit03.svg">
            <img src="@/assets/images/game/fruit01.svg">
            <img src="@/assets/images/game/fruit02.svg">
            <img src="@/assets/images/game/fruit03.svg">
            <img src="@/assets/images/game/fruit01.svg">
            <img src="@/assets/images/game/fruit02.svg">
            <img src="@/assets/images/game/fruit03.svg">
            <img src="@/assets/images/game/fruit01.svg">
            <img src="@/assets/images/game/fruit02.svg">
            <img src="@/assets/images/game/fruit03.svg">
            <img src="@/assets/images/game/fruit01.svg">
            <img src="@/assets/images/game/fruit02.svg">
            <img src="@/assets/images/game/fruit03.svg">
            <img src="@/assets/images/game/fruit01.svg">
            <img src="@/assets/images/game/fruit02.svg">
            <img src="@/assets/images/game/fruit03.svg">
          </div>
        </div>
        <div class="fruits">
          <div class="pic two">
            <img src="@/assets/images/game/fruit01.svg">
            <img src="@/assets/images/game/fruit02.svg">
            <img src="@/assets/images/game/fruit03.svg">
            <img src="@/assets/images/game/fruit01.svg">
            <img src="@/assets/images/game/fruit02.svg">
            <img src="@/assets/images/game/fruit03.svg">
            <img src="@/assets/images/game/fruit01.svg">
            <img src="@/assets/images/game/fruit02.svg">
            <img src="@/assets/images/game/fruit03.svg">
            <img src="@/assets/images/game/fruit01.svg">
            <img src="@/assets/images/game/fruit02.svg">
            <img src="@/assets/images/game/fruit03.svg">
            <img src="@/assets/images/game/fruit01.svg">
            <img src="@/assets/images/game/fruit02.svg">
            <img src="@/assets/images/game/fruit03.svg">
            <img src="@/assets/images/game/fruit01.svg">
            <img src="@/assets/images/game/fruit02.svg">
            <img src="@/assets/images/game/fruit03.svg">
            <img src="@/assets/images/game/fruit01.svg">
            <img src="@/assets/images/game/fruit02.svg">
            <img src="@/assets/images/game/fruit03.svg">
            <img src="@/assets/images/game/fruit01.svg">
            <img src="@/assets/images/game/fruit02.svg">
            <img src="@/assets/images/game/fruit03.svg">
            <img src="@/assets/images/game/fruit01.svg">
            <img src="@/assets/images/game/fruit02.svg">
            <img src="@/assets/images/game/fruit03.svg">
            <img src="@/assets/images/game/fruit01.svg">
            <img src="@/assets/images/game/fruit02.svg">
            <img src="@/assets/images/game/fruit03.svg">
            <img src="@/assets/images/game/fruit01.svg">
            <img src="@/assets/images/game/fruit02.svg">
            <img src="@/assets/images/game/fruit03.svg">
            <img src="@/assets/images/game/fruit01.svg">
            <img src="@/assets/images/game/fruit02.svg">
            <img src="@/assets/images/game/fruit03.svg">
            <img src="@/assets/images/game/fruit01.svg">
            <img src="@/assets/images/game/fruit02.svg">
            <img src="@/assets/images/game/fruit03.svg">
          </div>
        </div>
        <div class="fruits">
          <div class="pic three">
            <img src="@/assets/images/game/fruit01.svg">
            <img src="@/assets/images/game/fruit02.svg">
            <img src="@/assets/images/game/fruit03.svg">
            <img src="@/assets/images/game/fruit01.svg">
            <img src="@/assets/images/game/fruit02.svg">
            <img src="@/assets/images/game/fruit03.svg">
            <img src="@/assets/images/game/fruit01.svg">
            <img src="@/assets/images/game/fruit02.svg">
            <img src="@/assets/images/game/fruit03.svg">
            <img src="@/assets/images/game/fruit01.svg">
            <img src="@/assets/images/game/fruit02.svg">
            <img src="@/assets/images/game/fruit03.svg">
            <img src="@/assets/images/game/fruit01.svg">
            <img src="@/assets/images/game/fruit02.svg">
            <img src="@/assets/images/game/fruit03.svg">
            <img src="@/assets/images/game/fruit01.svg">
            <img src="@/assets/images/game/fruit02.svg">
            <img src="@/assets/images/game/fruit03.svg">
            <img src="@/assets/images/game/fruit01.svg">
            <img src="@/assets/images/game/fruit02.svg">
            <img src="@/assets/images/game/fruit03.svg">
            <img src="@/assets/images/game/fruit01.svg">
            <img src="@/assets/images/game/fruit02.svg">
            <img src="@/assets/images/game/fruit03.svg">
            <img src="@/assets/images/game/fruit01.svg">
            <img src="@/assets/images/game/fruit02.svg">
            <img src="@/assets/images/game/fruit03.svg">
            <img src="@/assets/images/game/fruit01.svg">
            <img src="@/assets/images/game/fruit02.svg">
            <img src="@/assets/images/game/fruit03.svg">
            <img src="@/assets/images/game/fruit01.svg">
            <img src="@/assets/images/game/fruit02.svg">
            <img src="@/assets/images/game/fruit03.svg">
            <img src="@/assets/images/game/fruit01.svg">
            <img src="@/assets/images/game/fruit02.svg">
            <img src="@/assets/images/game/fruit03.svg">
            <img src="@/assets/images/game/fruit01.svg">
            <img src="@/assets/images/game/fruit02.svg">
            <img src="@/assets/images/game/fruit03.svg">
          </div>
        </div>
      </div>
    </div>
    <button class="btn" @click="spin">spin</button>
  </section>
</template>
<script>
import PageTitle from '@/components/PageTitle.vue';
export default {
  components: {
    PageTitle,
  },
  data() {
    return {
      title: '會員專屬遊戲'
    }
  },
  methods: {
    spin() {
      function rand(min, max) {
        return Math.floor(Math.random() * (max - min + 1)) + min;
      }
      const btn = document.querySelector('.btn');
      const fruit_pic = document.querySelectorAll('.fruits .pic');
      const pic_one = document.querySelectorAll('.pic.one img');
      const pic_two = document.querySelectorAll('.pic.two img');
      const pic_three = document.querySelectorAll('.pic.three img');
      let controlValue = 0;
      btn.disabled = true;
      fruit_pic.forEach(item => {
        // item.classList.remove('spin');
        console.log(item);
        // if(controlValue === 1) {
        //   moveDOM();
        //   item.classList.remove('spin');
        //   return;
        // }
        item.classList.add('spin');
        // 水果最後一個的序列值
        let fruitArr= [];
        setTimeout(() => {
          console.log('變換圖片');
          pic_one.forEach(item => {
            item.src= `/game/fruit0${rand(1,3)}.svg`;
          });
          pic_two.forEach(item => {
            item.src= `/game/fruit0${rand(1,3)}.svg`;
          });
          pic_three.forEach(item => {
            item.src= `/game/fruit0${rand(1,3)}.svg`;
          });
        },1500);
        setTimeout(() => {
          btn.disabled = false;
          item.classList.remove('spin');
        },3100);
      })
      controlValue = 1;
    },
  },
  created() {

  }
}
</script>